!function(){"use strict";document.querySelector(".popup_type_preview");class e{constructor(e,t){var s,i;i=()=>{this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkValidity(e),this.toggleButtonState()}))}))},(s="_setEventListeners")in this?Object.defineProperty(this,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[s]=i,this.settings=e,this.form=t,this.inputList=[...this.form.querySelectorAll(e.inputSelector)],this.button=this.form.querySelector(e.submitButtonSelector),this.isFormValid=!0}resetValidation(){this.inputList.forEach((e=>{this._hideError(e),e.classList.remove(this.settings.inputErrorClass)})),this.isFormValid=!0}enableValidation(){this.form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(this.form)}_showError(e){this.isFormValid||(this.form.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage)}_hideError(e){this.isFormValid||(this.form.querySelector("#".concat(e.id,"-error")).textContent=" ")}_checkValidity(e){const{inputErrorClass:t}=this.settings;e.validity.valid?(e.classList.remove(t),this._hideError(e)):(e.classList.add(t),this._showError(e))}_checkValidity(e){const{inputErrorClass:t}=this.settings;e.validity.valid?(e.classList.remove(t),this._hideError(e)):(e.classList.add(t),this._showError(e))}toggleButtonState(){const{inactiveButtonClass:e}=this.settings;this.isFormValid=this.inputList.every((e=>e.validity.valid)),this.isFormValid?(this.button.disabled=!1,this.button.classList.remove(e)):(this.button.disabled=!0,this.button.classList.add(e))}}class t{constructor(e,t,s,i,n,o,r){this._name=e.name,this._data=e,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._userId=r,this._id=e._id,this._templateSelector=t,this._elementTemplate=this._templateSelector.content.querySelector(".elements__block"),this._handleCardClick=s,this._handleDelete=i,this._handleLike=n,this._deleteLike=o}removeCard(){this._element.remove()}updateLikes(e){console.log(this._likes,e),this._likes=e,this._renderLikes()}_isLiked(){return this._likes.some((e=>e._id===this._userId))}_renderLikes(){this._isLiked()?this._element.querySelector(".elements__like").classList.add("elements__like_type_active"):this._element.querySelector(".elements__like").classList.remove("elements__like_type_active"),this._element.querySelector(".elements__like-counter").textContent=this._likes.length}createCardElement(){return this._element=this._elementTemplate.cloneNode(!0),this._element.querySelector(".elements__title").textContent=this._name,this._element.querySelector(".elements__cover").style.backgroundImage="url(".concat(this._link,")"),this._ownerId!==this._userId&&(this._element.querySelector(".elements__trash").style.display="none"),this._element.querySelector(".elements__trash").addEventListener("click",(()=>{this._handleDelete(this._id)})),this._element.querySelector(".elements__like-counter").textContent=this._likes.length,this._element.querySelector(".elements__like").addEventListener("click",(()=>{this._isLiked()?this._deleteLike(this._id):this._handleLike(this._id)})),this._renderLikes(),this._element.querySelector(".elements__cover").addEventListener("click",(()=>this._handleCardClick(this._name,this._link))),this._element}}class s{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popupElement.classList.add("popup_oppened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_oppened"),document.removeEventListener("keyup",this._handleEscClose)}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target==e.currentTarget&&this.close()}))}}class i extends s{constructor(e,t,s,i){super(e),this._handleSubmit=i,this._form=this._popupElement.querySelector(".popup__form"),this._submitButton=this._popupElement.querySelector(".popup__save-button"),this._buttonText=t,this._loadingButtonText=s}_getInputValues(){const e=[...this._form.querySelectorAll(".popup__input")],t={};return e.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this._getInputValues())})),super.setEventListeners()}close(){super.close(),this._form.reset()}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}}const n=document.querySelector(".elements"),o=document.querySelector(".popup__input_type_name"),r=document.querySelector(".popup__input_type_description"),a=document.querySelector(".elements__template"),l=document.querySelector(".popup_type_profile-edditor"),c=document.querySelector(".popup_type_card-editor"),h=document.querySelector(".popup_type_change-profile-picture");let u="";const _={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_error"},d=new e(_,l),p=new e(_,c),m=new e(_,h);d.enableValidation(),p.enableValidation(),m.enableValidation();const v=new class{constructor(e){let{userNameSelector:t,userJobSelector:s}=e;this._userName=document.querySelector(t),this._userJob=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,description:this._userJob.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._userName.textContent=t,this._userJob.textContent=s}}({userNameSelector:".profile__info",userJobSelector:".profile__sub-info"}),y=new class extends s{constructor(e){super(e),this._form=this._popupElement.querySelector(".popup__form")}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()})),super.setEventListeners()}setHandleSubmit(e){this._submitHandler=e}}(".popup_type_delete-card");function k(e){const s=new t(e,a,((e,t)=>{b.open(e,t)}),(e=>{y.setHandleSubmit((()=>{L.deleteCard(e).then((e=>{s.removeCard(e),y.close()}))})),y.setEventListeners(),y.open()}),(e=>{L.adLike(e).then((e=>s.updateLikes(e.likes))).catch((e=>console.log("error in adding like",e)))}),(e=>{L.deleteLike(e).then((e=>s.updateLikes(e.likes))).catch((e=>console.log("error in adding like",e)))}),u);return s.createCardElement()}const E=new class{constructor(e,t){this._renderer=e,this._container=t}addItem(e){this._container.prepend(e)}renderItems(e){e.forEach((e=>this.addItem(this._renderer(e))))}}((e=>k(e)),n),L=new class{constructor(e){this._url=e.baseUrl,this._token=e.token}_getResponceData(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}getInitialCards(){return fetch("".concat(this._url,"/cards"),{headers:{authorization:this._token}}).then((e=>this._getResponceData(e)))}addNewCard(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>this._getResponceData(e)))}deleteCard(e){return fetch("".concat(this._url,"/cards/").concat(e," "),{method:"DELETE",headers:{authorization:this._token}}).then((e=>this._getResponceData(e)))}adLike(e){return fetch("".concat(this._url,"/cards/likes/").concat(e," "),{method:"PUT",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((e=>this._getResponceData(e)))}deleteLike(e){return fetch("".concat(this._url,"/cards/likes/").concat(e," "),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((e=>this._getResponceData(e)))}getProfile(){return fetch("".concat(this._url,"/users/me"),{headers:{authorization:this._token}}).then((e=>this._getResponceData(e)))}setProfile(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((e=>this._getResponceData(e)))}changeAvatar(e){return fetch("".concat(this._url,"/users/me/avatar "),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>this._getResponceData(e)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",token:"3b0591f5-8d80-48af-bfb2-1499d5045304","Content-Type":"application/json"});L.getInitialCards().then((e=>{E.renderItems(e)}));const f=document.querySelector(".profile__add-button"),g=new i(".popup_type_card-editor","Create","Creating...",(e=>{g.showLoading(),L.addNewCard(e).then((e=>{E.addItem(k(e)),g.close()})).catch((()=>console.log("error"))).finally((()=>{g.hideLoading()}))}));g.setEventListeners(),f.addEventListener("click",(()=>{d.resetValidation(),g.open()}));const b=new class extends s{constructor(e){super(e),this._popupPreview=".popup__preview"}open(e,t){this._popupElement.querySelector(this._popupPreview).src=t,this._popupElement.querySelector(".popup__preview-text").textContent=e,this._popupElement.querySelector(this._popupPreview).alt=e,super.open()}}(".popup_type_preview");b.setEventListeners(),L.getProfile().then((e=>{v.setUserInfo({name:e.name,about:e.about}),S.src=e.avatar,u=e._id}));const S=document.getElementById("profile-avatar"),C=document.querySelector(".profile__edit-button"),q=new i(".popup_type_profile-edditor","save","saving...",(e=>{q.showLoading(),L.setProfile(e).then((e=>{v.setUserInfo(e)})).catch((()=>console.log("error"))).finally((()=>{q.hideLoading(),q.close()}))}));q.setEventListeners(),C.addEventListener("click",(()=>{d.resetValidation(),q.open();const e=v.getUserInfo();o.value=e.name,r.value=e.description}));const w=document.querySelector(".profile__avatar-middle"),I=new i(".popup_type_change-profile-picture","save","saving...",(e=>{I.showLoading(),L.changeAvatar(e).then((e=>{S.src=e.avatar})).catch((()=>console.log(error))).finally((()=>{I.hideLoading(),I.close()}))}));I.setEventListeners(),w.addEventListener("click",(()=>{m.resetValidation(),I.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDNUN3TCxFQUFhLElBQUk5RixFQUNyQixxQ0FDQSxPQUNBLGFBRUN1QixJQUNDdUUsRUFBVy9FLGNBQ1g0QixFQUNHc0MsYUFBYTFELEdBQ2JzQixNQUFNQyxJQUNMMkMsRUFBVUYsSUFBTXpDLEVBQUl2QixVQUVyQnlCLE9BQU0sSUFBTXpFLFFBQVFDLElBQUl1SCxTQUN4QlgsU0FBUSxLQUNQVSxFQUFXOUUsY0FDWDhFLEVBQVdwRyxjQUluQm9HLEVBQVdqRyxvQkFDWGdHLEVBQW1COUssaUJBQWlCLFNBQVMsS0FDM0M0RyxFQUFvQnBHLGtCQUNwQnVLLEVBQVduRyxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtIC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mbyAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwb3BVcFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfcHJldmlld1wiKTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybSkge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmZvcm0gPSBmb3JtO1xuICAgIHRoaXMuaW5wdXRMaXN0ID0gWy4uLnRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzLmlucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLmJ1dHRvbiA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLmlzRm9ybVZhbGlkID0gdHJ1ZTtcbiAgfVxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB9KTtcbiAgICB0aGlzLmlzRm9ybVZhbGlkID0gdHJ1ZTtcbiAgfVxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5mb3JtKTtcbiAgfVxuICBfc2hvd0Vycm9yKGlucHV0KSB7XG4gICAgaWYoIXRoaXMuaXNGb3JtVmFsaWQpIHtcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIH1cbiAgfVxuICBfaGlkZUVycm9yKGlucHV0KSB7XG4gICAgaWYoIXRoaXMuaXNGb3JtVmFsaWQpIHtcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiIFwiOyAgICAgIFxuICAgIH1cbiAgfVxuICBfY2hlY2tWYWxpZGl0eShpbnB1dCkge1xuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzIH0gPSB0aGlzLnNldHRpbmdzO1xuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0KTtcbiAgICB9XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIF9jaGVja1ZhbGlkaXR5KGlucHV0KSB7XG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MgfSA9IHRoaXMuc2V0dGluZ3M7XG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XG4gICAgICB0aGlzLl9zaG93RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfVxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuc2V0dGluZ3M7XG4gICAgdGhpcy5pc0Zvcm1WYWxpZCA9IHRoaXMuaW5wdXRMaXN0LmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xuICAgIGlmICh0aGlzLmlzRm9ybVZhbGlkKSB7XG4gICAgICB0aGlzLmJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LmFkZChpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIHRlbXBsYXRlU2VsZWN0b3IsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZURlbGV0ZSxcbiAgICBoYW5kbGVMaWtlLFxuICAgIGRlbGV0ZUxpa2UsXG4gICAgdXNlcklkXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2VsZW1lbnRUZW1wbGF0ZSA9XG4gICAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fYmxvY2tcIik7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZSA9IGhhbmRsZURlbGV0ZTtcbiAgICB0aGlzLl9oYW5kbGVMaWtlID0gaGFuZGxlTGlrZTtcbiAgICB0aGlzLl9kZWxldGVMaWtlID0gZGVsZXRlTGlrZTtcbiAgfVxuICByZW1vdmVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cbiAgdXBkYXRlTGlrZXMobGlrZXMpIHtcbiAgICAvLyBzZXQgaW5zdGFuY2UgdmFyaWFibGVcbiAgICBjb25zb2xlLmxvZyh0aGlzLl9saWtlcywgbGlrZXMpO1xuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgfVxuICBfaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgocGVycykgPT4gcGVycy5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuICBfcmVuZGVyTGlrZXMoKSB7XG4gICAgaWYgKHRoaXMuX2lzTGlrZWQoKSkge1xuICAgICAgdGhpcy5fZWxlbWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZVwiKVxuICAgICAgICAuY2xhc3NMaXN0LmFkZChcImVsZW1lbnRzX19saWtlX3R5cGVfYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlXCIpXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudHNfX2xpa2VfdHlwZV9hY3RpdmVcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtY291bnRlclwiKTtcbiAgICBjb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgY3JlYXRlQ2FyZEVsZW1lbnQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZWxlbWVudHNfX2NvdmVyXCJcbiAgICApLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLl9saW5rfSlgO1xuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdHJhc2hcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIC8vZGVsZXRlIGJ0blxuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190cmFzaFwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZSh0aGlzLl9pZCk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IGNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtY291bnRlclwiKTtcbiAgICBjb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgLy9saWtlIGJ0blxuICAgIGNvbnN0IGxpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2VcIik7XG4gICAgLy8gc2V0IF9oYW5kbGVMaWtlIGluIHRoZSBjb25zdHJ1Y3RvclxuICAgIGxpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9pc0xpa2VkKCkpIHtcbiAgICAgICAgdGhpcy5fZGVsZXRlTGlrZSh0aGlzLl9pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlKHRoaXMuX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG5cbiAgICAvL29wbmUgcHJldmlld1xuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jb3ZlclwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaylcbiAgICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIFxuICB9XG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcHBlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcHBlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIFxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGJ1dHRvblRleHQsIGxvYWRpbmdCdXR0b25UZXh0LCBoYW5kbGVTdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wdXBfX3NhdmUtYnV0dG9uXCJcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvblRleHQgPSBidXR0b25UZXh0O1xuICAgIHRoaXMuX2xvYWRpbmdCdXR0b25UZXh0ID0gbG9hZGluZ0J1dHRvblRleHQ7XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcblxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cbiAgc2hvd0xvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fbG9hZGluZ0J1dHRvblRleHQ7XG4gIH1cbiAgaGlkZUxvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uVGV4dDtcbiAgfVxufVxuIiwiLy9pbXBvcnQgYXZhdGFyU3JjIGZyb20gXCIuLi9pbWFnZXMvcHJvZmlsZS5qcGdcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvY2FyZC5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtIC5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvIC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tIFwiLi4vY29tcG9uZW50cy9wb3B1cFdpdGhTdWJtaXQuanNcIjtcbi8vLi4uLi4uLi4uLi4uLi4uRW5kIE9mIEltcG9ydCBNb2R1bHMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cblxuY29uc3QgZWxlbWVudHNQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5jb25zdCBuYW1lQ2hhbmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmNvbnN0IGRlc2NyaXB0aW9uQ2hhbmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcHVwX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uXCJcbik7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RlbXBsYXRlXCIpO1xuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9wcm9maWxlLWVkZGl0b3JcIik7XG5jb25zdCBjYXJkRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2NhcmQtZWRpdG9yXCIpO1xuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2NoYW5nZS1wcm9maWxlLXBpY3R1cmVcIik7XG5sZXQgdXNlcklkID0gXCJcIjtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uRW5kIG9mIHNlbGVjdG9ycy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZS1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZS1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF9lcnJvclwiLFxufTtcbi8vLi4uLi4uLi4uLi4uLi5FbmQgT2Ygc2V0dGluZ3MuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHByb2ZpbGUpO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgY2FyZEVkaXRvcik7XG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGF2YXRhcik7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5hZGRDYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uRW5kIG9mIGZvcm0gVmFsaWRhdG9yLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19pbmZvXCIsXG4gIHVzZXJKb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fc3ViLWluZm9cIixcbn0pO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uRW5kIG9mIHVzZXIgSW5mby4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5jb25zdCBkZWxldGVGb3JtID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5wb3B1cF90eXBlX2RlbGV0ZS1jYXJkXCIpO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGRhdGEsXG4gICAgdGVtcGxhdGUsXG4gICAgKG5hbWUsIGxpbmspID0+IHtcbiAgICAgIG9wZW5QcmV2aWV3Lm9wZW4obmFtZSwgbGluayk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgZGVsZXRlRm9ybS5zZXRIYW5kbGVTdWJtaXQoKCkgPT4ge1xuICAgICAgICBhcGkuZGVsZXRlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKHJlcyk7XG4gICAgICAgICAgZGVsZXRlRm9ybS5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgZGVsZXRlRm9ybS5vcGVuKCk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgIGFwaVxuICAgICAgICAuYWRMaWtlKGlkKVxuICAgICAgICAudGhlbigocmVzKT0+IGNhcmQudXBkYXRlTGlrZXMocmVzLmxpa2VzKSlcbiAgICAgICAgLmNhdGNoKChpZCkgPT4gY29uc29sZS5sb2coXCJlcnJvciBpbiBhZGRpbmcgbGlrZVwiLCBpZCkpO1xuICAgIH0sXG4gICAgKGlkKSA9PiB7XG4gICAgICBhcGlcbiAgICAgICAgLmRlbGV0ZUxpa2UoaWQpXG4gICAgICAgIC50aGVuKChyZXMpPT4gY2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpKVxuICAgICAgICAuY2F0Y2goKGlkKSA9PiBjb25zb2xlLmxvZyhcImVycm9yIGluIGFkZGluZyBsaWtlXCIsaWQpKTtcbiAgICB9LFxuICAgIHVzZXJJZFxuICApO1xuXG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmRFbGVtZW50KCk7XG59XG5cbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oKGRhdGEpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUNhcmQoZGF0YSk7XG59LCBlbGVtZW50c1BsYWNlKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIHRva2VuOiBcIjNiMDU5MWY1LThkODAtNDhhZi1iZmIyLTE0OTlkNTA0NTMwNFwiLFxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbn0pO1xuLy9pbml0aWFsaXphdGlvbiBvZiBjYXJkc1xuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKHJlcykgPT4ge1xuICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhyZXMpO1xufSk7XG5cbi8vYWRkIG5ldyBDYXJkIHBvcFVwXG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgY2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIucG9wdXBfdHlwZV9jYXJkLWVkaXRvclwiLFxuICBcIkNyZWF0ZVwiLFxuICBcIkNyZWF0aW5nLi4uXCIsXG4gIChkYXRhKSA9PiB7XG4gICAgY2FyZEZvcm0uc2hvd0xvYWRpbmcoKTtcbiAgICBhcGlcbiAgICAgIC5hZGROZXdDYXJkKGRhdGEpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcbiAgICAgICAgY2FyZEZvcm0uY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4gY29uc29sZS5sb2coXCJlcnJvclwiKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgY2FyZEZvcm0uaGlkZUxvYWRpbmcoKTtcbiAgICAgIFxuICAgICAgfSk7XG4gIH1cbik7XG5jYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgY2FyZEZvcm0ub3BlbigpO1xufSk7XG5cbi8vIGNhcmQgcHJldmlldyBwb3B1cFxuY29uc3Qgb3BlblByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9wcmV2aWV3XCIpO1xub3BlblByZXZpZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi5lbmQgb2YgQ2FyZHMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cblxuLy9HZXQgcHJvZmlsZSBpbmZvXG5cbmFwaS5nZXRQcm9maWxlKCkudGhlbigocHJvZmlsZSkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHByb2ZpbGUubmFtZSwgYWJvdXQ6IHByb2ZpbGUuYWJvdXQgfSk7XG4gIGF2YXRhckltZy5zcmMgPSBwcm9maWxlLmF2YXRhcjtcbiAgdXNlcklkID0gcHJvZmlsZS5faWQ7XG59KTtcbi8vc2V0IHByb2ZpbGUgaW5mb1xuY29uc3QgYXZhdGFySW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlLWF2YXRhclwiKTtcbmNvbnN0IG9wZW5Qcm9maWxlRWRpdG9yQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfcHJvZmlsZS1lZGRpdG9yXCIsXG4gIFwic2F2ZVwiLFxuICBcInNhdmluZy4uLlwiLFxuICAocHJvZmlsZSkgPT4ge1xuICAgIHByb2ZpbGVGb3JtLnNob3dMb2FkaW5nKCk7XG4gICAgYXBpXG4gICAgICAuc2V0UHJvZmlsZShwcm9maWxlKVxuICAgICAgLnRoZW4oKHByb2ZpbGUpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocHJvZmlsZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IGNvbnNvbGUubG9nKFwiZXJyb3JcIikpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHByb2ZpbGVGb3JtLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgIHByb2ZpbGVGb3JtLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfVxuKTtcbnByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5vcGVuUHJvZmlsZUVkaXRvckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZUZvcm0ub3BlbigpO1xuICBjb25zdCBkYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZUNoYW5nZXIudmFsdWUgPSBkYXRhLm5hbWU7XG4gIGRlc2NyaXB0aW9uQ2hhbmdlci52YWx1ZSA9IGRhdGEuZGVzY3JpcHRpb247XG59KTtcblxuLy8gY2hhbmdlIGF2YXRhciBwb3B1cFxuY29uc3QgY2hhbmdlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItbWlkZGxlXCIpO1xuY29uc3QgYXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5wb3B1cF90eXBlX2NoYW5nZS1wcm9maWxlLXBpY3R1cmVcIixcbiAgXCJzYXZlXCIsXG4gIFwic2F2aW5nLi4uXCIsXG5cbiAgKGF2YXRhcikgPT4ge1xuICAgIGF2YXRhckZvcm0uc2hvd0xvYWRpbmcoKTtcbiAgICBhcGlcbiAgICAgIC5jaGFuZ2VBdmF0YXIoYXZhdGFyKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBhdmF0YXJJbWcuc3JjID0gcmVzLmF2YXRhcjtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4gY29uc29sZS5sb2coZXJyb3IpKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhdmF0YXJGb3JtLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgIGF2YXRhckZvcm0uY2xvc2UoKTtcbiAgICAgIH0pO1xuICB9XG4pO1xuYXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuY2hhbmdlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGF2YXRhckZvcm0ub3BlbigpO1xufSk7XG5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uZW5kIG9mIHByb2ZpbGUuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIiBleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3Ioe3VzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3Rvcn0pe1xuICAgICAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3RvcilcbiAgICAgICAgdGhpcy5fdXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKVxuICAgICAgIFxuICAgIH1cbiAgICBnZXRVc2VySW5mbygpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnRcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRVc2VySW5mbyh7bmFtZSwgYWJvdXQ6IGFib3V0fSl7XG4gICAgICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZVxuICAgICAgICB0aGlzLl91c2VySm9iLnRleHRDb250ZW50ID0gYWJvdXRcblxuICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpXG4gICAgICAgXG4gICAgfVxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+e1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKClcbiAgICAgICAgfSlcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgIH1cbiAgICAgICAgc2V0SGFuZGxlU3VibWl0KGhhbmRsZVN1Ym1pdCkge1xuICAgICAgICAgICAgdGhpcy5fc3VibWl0SGFuZGxlciAgPSBoYW5kbGVTdWJtaXRcbiAgICAgICAgfVxuICBcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgfVxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuICByZW5kZXJJdGVtcyhkYXRhKSB7XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB0aGlzLmFkZEl0ZW0odGhpcy5fcmVuZGVyZXIoZWxlbWVudCkpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG50aGlzLl91cmwgPSBvcHRpb25zLmJhc2VVcmw7XG50aGlzLl90b2tlbiA9IG9wdGlvbnMudG9rZW47XG4gICAgfVxuXG4gICAgX2dldFJlc3BvbmNlRGF0YShyZXMpe1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfVxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICAgICAgaGVhZGVyczogXG4gICAgICAgICAge2F1dGhvcml6YXRpb246IHRoaXMuX3Rva2VufVxuICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHJlcyA9PiBcbiAgICAgICAgICAgdGhpcy5fZ2V0UmVzcG9uY2VEYXRhKHJlcylcbiAgICAgICAgICApXG4gICAgICAgICAgXG4gICAgICB9IFxuICAgICAgYWRkTmV3Q2FyZChkYXRhKXtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogXG4gICAgICAgICAge2F1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLCAnQ29udGVudC1UeXBlJzogXCJhcHBsaWNhdGlvbi9qc29uXCJ9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5IChkYXRhKVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXMgPT4gXG4gICAgICAgICAgdGhpcy5fZ2V0UmVzcG9uY2VEYXRhKHJlcylcbiAgICAgICAgKVxuICAgICAgfSBcblxuICAgICAgZGVsZXRlQ2FyZChjYXJkSWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0gYCx7XG4gICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgIGhlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbn1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzID0+IFxuICAgICAgICAgIHRoaXMuX2dldFJlc3BvbmNlRGF0YShyZXMpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGFkTGlrZShjYXJkSWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH0gYCx7XG4gICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbiwnQ29udGVudC1UeXBlJzogXCJhcHBsaWNhdGlvbi9qc29uXCJ9LFxuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXMgPT4gXG4gICAgICAgICAgdGhpcy5fZ2V0UmVzcG9uY2VEYXRhKHJlcylcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgZGVsZXRlTGlrZShjYXJkSWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH0gYCx7XG4gICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgIGhlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbiwnQ29udGVudC1UeXBlJzogXCJhcHBsaWNhdGlvbi9qc29uXCJ9LFxuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXMgPT4gXG4gICAgICAgICAgdGhpcy5fZ2V0UmVzcG9uY2VEYXRhKHJlcylcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgXG4gIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5FbmQgb2YgY2FyZHMgYXBpYHMuLi4uLi4uLi4uLi4uLi4uLi4uLlxuXG4gICAgZ2V0UHJvZmlsZSgpe1xuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgIGhlYWRlcnM6IFxuICAgICAgICB7YXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW59XG4gICAgICB9KVxuICAgICAgICAudGhlbihyZXMgPT4gXG4gICAgICAgICAgdGhpcy5fZ2V0UmVzcG9uY2VEYXRhKHJlcylcbiAgICAgICAgKVxuICAgIH1cbiAgc2V0UHJvZmlsZShkYXRhKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbiwgICdDb250ZW50LVR5cGUnOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7bmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5hYm91dH0pXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiBcbiAgICAgICAgdGhpcy5fZ2V0UmVzcG9uY2VEYXRhKHJlcylcbiAgICAgIClcbiAgfVxuICBjaGFuZ2VBdmF0YXIoYXZhdGFyKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXIgYCx7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB7YXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sICdDb250ZW50LVR5cGUnOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhdmF0YXIpXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4gXG4gICAgICB0aGlzLl9nZXRSZXNwb25jZURhdGEocmVzKVxuICAgIClcbiAgfVxuXG5cblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLmVuZCBvZiBmaWxlLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICB9IFxuXG5cbiAgXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxuICAgICAgICB0aGlzLl9wb3B1cFByZXZpZXcgPSBcIi5wb3B1cF9fcHJldmlld1wiXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICBcbiAgICB9XG4gICAgXG5cbiAgICBvcGVuKHRleHQsIGxpbmspIHtcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBQcmV2aWV3KS5zcmMgPSBsaW5rO1xuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcHJldmlldy10ZXh0XCIpLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBQcmV2aWV3KS5hbHQgPSB0ZXh0O1xuICAgICAgICBzdXBlci5vcGVuKClcbiAgICB9XG59Il0sIm5hbWVzIjpbImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybSIsInRoaXMiLCJpbnB1dExpc3QiLCJmb3JFYWNoIiwiaW5wdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrVmFsaWRpdHkiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiYnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpc0Zvcm1WYWxpZCIsInJlc2V0VmFsaWRhdGlvbiIsIl9oaWRlRXJyb3IiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpbnB1dEVycm9yQ2xhc3MiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3Nob3dFcnJvciIsImlkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJhZGQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZXZlcnkiLCJkaXNhYmxlZCIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZSIsImhhbmRsZUxpa2UiLCJkZWxldGVMaWtlIiwidXNlcklkIiwiX25hbWUiLCJuYW1lIiwiX2RhdGEiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfdXNlcklkIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfZWxlbWVudFRlbXBsYXRlIiwiY29udGVudCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlIiwiX2hhbmRsZUxpa2UiLCJfZGVsZXRlTGlrZSIsInJlbW92ZUNhcmQiLCJfZWxlbWVudCIsInVwZGF0ZUxpa2VzIiwiY29uc29sZSIsImxvZyIsIl9yZW5kZXJMaWtlcyIsIl9pc0xpa2VkIiwic29tZSIsInBlcnMiLCJsZW5ndGgiLCJjcmVhdGVDYXJkRWxlbWVudCIsImNsb25lTm9kZSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiZGlzcGxheSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJidXR0b25UZXh0IiwibG9hZGluZ0J1dHRvblRleHQiLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZm9ybSIsIl9zdWJtaXRCdXR0b24iLCJfYnV0dG9uVGV4dCIsIl9sb2FkaW5nQnV0dG9uVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0cyIsImlucHV0VmFsdWVzIiwidmFsdWUiLCJyZXNldCIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJlbGVtZW50c1BsYWNlIiwibmFtZUNoYW5nZXIiLCJkZXNjcmlwdGlvbkNoYW5nZXIiLCJ0ZW1wbGF0ZSIsInByb2ZpbGUiLCJjYXJkRWRpdG9yIiwiYXZhdGFyIiwiZm9ybVNlbGVjdG9yIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJ1c2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySm9iU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsImdldFVzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJzZXRVc2VySW5mbyIsImFib3V0IiwiZGVsZXRlRm9ybSIsIl9zdWJtaXRIYW5kbGVyIiwic2V0SGFuZGxlU3VibWl0IiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJvcGVuUHJldmlldyIsImFwaSIsImRlbGV0ZUNhcmQiLCJ0aGVuIiwicmVzIiwiYWRMaWtlIiwiY2F0Y2giLCJjYXJkU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJvcHRpb25zIiwiX3VybCIsImJhc2VVcmwiLCJfdG9rZW4iLCJ0b2tlbiIsIl9nZXRSZXNwb25jZURhdGEiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImFkZE5ld0NhcmQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsImdldFByb2ZpbGUiLCJzZXRQcm9maWxlIiwiY2hhbmdlQXZhdGFyIiwiYWRkQ2FyZEJ1dHRvbiIsImNhcmRGb3JtIiwiZmluYWxseSIsIl9wb3B1cFByZXZpZXciLCJ0ZXh0Iiwic3JjIiwiYWx0IiwiYXZhdGFySW1nIiwiZ2V0RWxlbWVudEJ5SWQiLCJvcGVuUHJvZmlsZUVkaXRvckJ1dHRvbiIsInByb2ZpbGVGb3JtIiwiY2hhbmdlQXZhdGFyQnV0dG9uIiwiYXZhdGFyRm9ybSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==