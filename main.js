!function(){"use strict";document.querySelector(".popup_type_preview");class e{constructor(e,t){var s,i;i=()=>{this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkValidity(e),this.toggleButtonState()}))}))},(s="_setEventListeners")in this?Object.defineProperty(this,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[s]=i,this.settings=e,this.form=t,this.inputList=[...this.form.querySelectorAll(e.inputSelector)],this.button=this.form.querySelector(e.submitButtonSelector),this.isFormValid=!0}resetValidation(){this.isFormValid=!0,this.inputList.forEach((e=>{this._hideError(e),e.classList.remove(this.settings.inputErrorClass)}))}enableValidation(){this.form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(this.form)}_showError(e){this.isFormValid||(this.form.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage)}_hideError(e){this.isFormValid||(this.form.querySelector("#".concat(e.id,"-error")).textContent=" ")}_checkValidity(e){const{inputErrorClass:t}=this.settings;e.validity.valid?(e.classList.remove(t),this._hideError(e)):(e.classList.add(t),this._showError(e))}_checkValidity(e){const{inputErrorClass:t}=this.settings;e.validity.valid?(e.classList.remove(t),this._hideError(e)):(e.classList.add(t),this._showError(e))}toggleButtonState(){const{inactiveButtonClass:e}=this.settings;this.isFormValid=this.inputList.every((e=>e.validity.valid)),this.isFormValid?(this.button.disabled=!1,this.button.classList.remove(e)):(this.button.disabled=!0,this.button.classList.add(e))}}class t{constructor(e,t,s,i,n,o,r){this._name=e.name,this._data=e,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._userId=r,this._id=e._id,this._templateSelector=t,this._elementTemplate=this._templateSelector.content.querySelector(".elements__block"),this._handleCardClick=s,this._handleDelete=i,this._handleLike=n,this._deleteLike=o}removeCard(){this._element.remove()}updateLikes(e){this._likes=e,this._renderLikes()}_isLiked(){return this._likes.some((e=>e._id===this._userId))}_renderLikes(){this._isLiked()?this._element.querySelector(".elements__like").classList.add("elements__like_type_active"):this._element.querySelector(".elements__like").classList.remove("elements__like_type_active"),this._element.querySelector(".elements__like-counter").textContent=this._likes.length}createCardElement(){return this._element=this._elementTemplate.cloneNode(!0),this._element.querySelector(".elements__title").textContent=this._name,this._element.querySelector(".elements__cover").style.backgroundImage="url(".concat(this._link,")"),this._ownerId!==this._userId&&(this._element.querySelector(".elements__trash").style.display="none"),this._element.querySelector(".elements__trash").addEventListener("click",(()=>{this._handleDelete(this._id)})),this._element.querySelector(".elements__like-counter").textContent=this._likes.length,this._element.querySelector(".elements__like").addEventListener("click",(()=>{this._isLiked()?this._deleteLike(this._id):this._handleLike(this._id)})),this._renderLikes(),this._element.querySelector(".elements__cover").addEventListener("click",(()=>this._handleCardClick(this._name,this._link))),this._element}}class s{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popupElement.classList.add("popup_oppened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_oppened"),document.removeEventListener("keyup",this._handleEscClose)}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target==e.currentTarget&&this.close()}))}}class i extends s{constructor(e,t,s,i){super(e),this._handleSubmit=i,this._form=this._popupElement.querySelector(".popup__form"),this._submitButton=this._popupElement.querySelector(".popup__save-button"),this._buttonText=t,this._loadingButtonText=s}_getInputValues(){const e=[...this._form.querySelectorAll(".popup__input")],t={};return e.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this._getInputValues())})),super.setEventListeners()}close(){super.close(),this._form.reset()}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}}const n=document.querySelector(".elements"),o=document.querySelector(".popup__input_type_name"),r=document.querySelector(".popup__input_type_description"),a=document.querySelector(".elements__template"),l=document.querySelector(".popup_type_profile-edditor"),h=document.querySelector(".popup_type_card-editor"),c=document.querySelector(".popup_type_change-profile-picture");let u="";const _={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_error"},d=new e(_,l),p=new e(_,h),m=new e(_,c);d.enableValidation(),p.enableValidation(),m.enableValidation();const v=new class{constructor(e){let{userNameSelector:t,userJobSelector:s}=e;this._userName=document.querySelector(t),this._userJob=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,description:this._userJob.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._userName.textContent=t,this._userJob.textContent=s}}({userNameSelector:".profile__info",userJobSelector:".profile__sub-info"}),g=new class extends s{constructor(e,t,s){super(e),this._form=this._popupElement.querySelector(".popup__form"),this._submitButton=this._popupElement.querySelector(".popup__save-button"),this._buttonText=t,this._loadingButtonText=s}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()})),super.setEventListeners()}setHandleSubmit(e){this._handleSubmit=e}showLoading(){this._submitButton.textContent=this._loadingButtonText,console.log(this._loadingButtonText)}hideLoading(){this._submitButton.textContent=this._buttonText}}(".popup_type_delete-card","yes","saving...");function y(e){const s=new t(e,a,((e,t)=>{b.open(e,t)}),(e=>{g.setHandleSubmit((()=>{g.showLoading(),f.deleteCard(e).then((e=>{s.removeCard(e),g.close()})).catch((e=>{console.log("we have a problem",e)})).finally((()=>g.hideLoading()))})),g.setEventListeners(),g.open()}),(e=>{f.addLike(e).then((e=>s.updateLikes(e.likes))).catch((e=>console.log("error in adding like",e)))}),(e=>{f.deleteLike(e).then((e=>s.updateLikes(e.likes))).catch((e=>console.log("error in removing  like",e)))}),u);return s.createCardElement()}const L=new class{constructor(e,t){this._renderer=e,this._container=t}addItem(e){this._container.prepend(e)}renderItems(e){e.forEach((e=>this.addItem(this._renderer(e))))}}((e=>y(e)),n),f=new class{constructor(e){this._url=e.baseUrl,this._token=e.token}_getResponseData(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}getInitialCards(){return fetch("".concat(this._url,"/cards"),{headers:{authorization:this._token}}).then(this._getResponseData)}addNewCard(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify(e)}).then(this._getResponseData)}deleteCard(e){return fetch("".concat(this._url,"/cards/").concat(e," "),{method:"DELETE",headers:{authorization:this._token}}).then(this._getResponseData)}addLike(e){return fetch("".concat(this._url,"/cards/likes/").concat(e," "),{method:"PUT",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._getResponseData)}deleteLike(e){return fetch("".concat(this._url,"/cards/likes/").concat(e," "),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._getResponseData)}getProfile(){return fetch("".concat(this._url,"/users/me"),{headers:{authorization:this._token}}).then(this._getResponseData)}setProfile(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then(this._getResponseData)}changeAvatar(e){return fetch("".concat(this._url,"/users/me/avatar "),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify(e)}).then(this._getResponseData)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",token:"3b0591f5-8d80-48af-bfb2-1499d5045304","Content-Type":"application/json"});f.getInitialCards().then((e=>{L.renderItems(e)})).catch((e=>{console.log("error",e)}));const k=document.querySelector(".profile__add-button"),E=new i(".popup_type_card-editor","Create","Creating...",(e=>{E.showLoading(),f.addNewCard(e).then((e=>{L.addItem(y(e)),E.close()})).catch((e=>console.log("there is error in adding card",e))).finally((()=>{p.toggleButtonState(),E.hideLoading()}))}));E.setEventListeners(),k.addEventListener("click",(()=>{d.resetValidation(),E.open()}));const b=new class extends s{constructor(e){super(e),this._popupPreview=".popup__preview"}open(e,t){this._popupElement.querySelector(this._popupPreview).src=t,this._popupElement.querySelector(".popup__preview-text").textContent=e,this._popupElement.querySelector(this._popupPreview).alt=e,super.open()}}(".popup_type_preview");b.setEventListeners(),f.getProfile().then((e=>{v.setUserInfo({name:e.name,about:e.about}),S.src=e.avatar,u=e._id})).catch((e=>{console.log("error in getting profile info",e)}));const S=document.getElementById("profile-avatar"),C=document.querySelector(".profile__edit-button"),q=new i(".popup_type_profile-edditor","save","saving...",(e=>{q.showLoading(),f.setProfile(e).then((e=>{v.setUserInfo(e),q.close()})).catch((e=>console.log("error in setting profile info",e))).finally((()=>{q.hideLoading()}))}));q.setEventListeners(),C.addEventListener("click",(()=>{d.resetValidation(),q.open();const e=v.getUserInfo();o.value=e.name,r.value=e.description}));const w=document.querySelector(".profile__avatar-middle"),x=new i(".popup_type_change-profile-picture","save","saving...",(e=>{x.showLoading(),f.changeAvatar(e).then((e=>{S.src=e.avatar,x.close()})).catch((e=>console.log("houston we have a problem",e))).finally((()=>{x.hideLoading(),m.toggleButtonState()}))}));x.setEventListeners(),w.addEventListener("click",(()=>{m.resetValidation(),x.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVic0QsT0FBT0QsR0FBUVIsUUFBUUMsSUFBSSxnQ0FBaUNPLEtBQzVERSxTQUFRLEtBQ1A0QyxFQUFZN0Usb0JBS3BCNkUsRUFBWWhHLG9CQUNaK0YsRUFBd0IzSyxpQkFBaUIsU0FBUyxLQUNoRHdHLEVBQWtCaEcsa0JBQ2xCb0ssRUFBWWxHLE9BQ1osTUFBTTlDLEVBQU8rRSxFQUFTSyxjQUN0QmYsRUFBWUwsTUFBUWhFLEVBQUtRLEtBQ3pCOEQsRUFBbUJOLE1BQVFoRSxFQUFLcUYsZUFJbEMsTUFBTTRELEVBQXFCdkwsU0FBU0MsY0FBYywyQkFDNUN1TCxFQUFhLElBQUkvRixFQUNyQixxQ0FDQSxPQUNBLGFBRUN1QixJQUNDd0UsRUFBV2hGLGNBQ1g2QixFQUNHdUMsYUFBYTVELEdBQ2J1QixNQUFNQyxJQUNMMkMsRUFBVUYsSUFBTXpDLEVBQUl4QixPQUNwQndFLEVBQVdyRyxXQUVac0QsT0FBT0QsR0FBUVIsUUFBUUMsSUFBSSw0QkFBNkJPLEtBQ3hERSxTQUFRLEtBQ1A4QyxFQUFXL0UsY0FDWFcsRUFBb0J4RywwQkFJNUI0SyxFQUFXbEcsb0JBQ1hpRyxFQUFtQjdLLGlCQUFpQixTQUFTLEtBQzNDMEcsRUFBb0JsRyxrQkFDcEJzSyxFQUFXcEcsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9mb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9jYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9wb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybSAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8gLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcG9wVXBQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3ByZXZpZXdcIik7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm0pIHtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgICB0aGlzLmlucHV0TGlzdCA9IFsuLi50aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbChzZXR0aW5ncy5pbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy5idXR0b24gPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5pc0Zvcm1WYWxpZCA9IHRydWU7XG4gIH1cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuaXNGb3JtVmFsaWQgPSB0cnVlO1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgfSk7XG4gIH1cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKHRoaXMuZm9ybSk7XG4gIH1cbiAgX3Nob3dFcnJvcihpbnB1dCkge1xuICAgIGlmKCF0aGlzLmlzRm9ybVZhbGlkKSB7XG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB9XG4gIH1cbiAgX2hpZGVFcnJvcihpbnB1dCkge1xuICAgIGlmKCF0aGlzLmlzRm9ybVZhbGlkKSB7XG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIiBcIjsgICAgICBcbiAgICB9XG4gIH1cbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXQpIHtcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcyB9ID0gdGhpcy5zZXR0aW5ncztcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dCk7XG4gICAgfVxuICB9XG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBfY2hlY2tWYWxpZGl0eShpbnB1dCkge1xuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzIH0gPSB0aGlzLnNldHRpbmdzO1xuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0KTtcbiAgICB9XG4gIH1cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgY29uc3QgeyBpbmFjdGl2ZUJ1dHRvbkNsYXNzIH0gPSB0aGlzLnNldHRpbmdzO1xuICAgIHRoaXMuaXNGb3JtVmFsaWQgPSB0aGlzLmlucHV0TGlzdC5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcbiAgICBpZiAodGhpcy5pc0Zvcm1WYWxpZCkge1xuICAgICAgdGhpcy5idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVEZWxldGUsXG4gICAgaGFuZGxlTGlrZSxcbiAgICBkZWxldGVMaWtlLFxuICAgIHVzZXJJZFxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9lbGVtZW50VGVtcGxhdGUgPVxuICAgICAgdGhpcy5fdGVtcGxhdGVTZWxlY3Rvci5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2Jsb2NrXCIpO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGUgPSBoYW5kbGVEZWxldGU7XG4gICAgdGhpcy5faGFuZGxlTGlrZSA9IGhhbmRsZUxpa2U7XG4gICAgdGhpcy5fZGVsZXRlTGlrZSA9IGRlbGV0ZUxpa2U7XG4gIH1cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG4gIHVwZGF0ZUxpa2VzKGxpa2VzKSB7XG4gICAgLy8gc2V0IGluc3RhbmNlIHZhcmlhYmxlXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xuICB9XG4gIF9pc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChwZXJzKSA9PiBwZXJzLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICBpZiAodGhpcy5faXNMaWtlZCgpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlXCIpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudHNfX2xpa2VfdHlwZV9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2VcIilcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50c19fbGlrZV90eXBlX2FjdGl2ZVwiKTtcbiAgICB9XG4gICAgY29uc3QgY291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZS1jb3VudGVyXCIpO1xuICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gIH1cblxuICBjcmVhdGVDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZWxlbWVudFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5lbGVtZW50c19fY292ZXJcIlxuICAgICkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3RoaXMuX2xpbmt9KWA7XG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190cmFzaFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgLy9kZWxldGUgYnRuXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RyYXNoXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlKHRoaXMuX2lkKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgY291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZS1jb3VudGVyXCIpO1xuICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICAvL2xpa2UgYnRuXG4gICAgY29uc3QgbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZVwiKTtcbiAgICAvLyBzZXQgX2hhbmRsZUxpa2UgaW4gdGhlIGNvbnN0cnVjdG9yXG4gICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzTGlrZWQoKSkge1xuICAgICAgICB0aGlzLl9kZWxldGVMaWtlKHRoaXMuX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2UodGhpcy5faWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcblxuICAgIC8vb3BuZSBwcmV2aWV3XG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NvdmVyXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxuICAgICAgKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgXG4gIH1cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgYnV0dG9uVGV4dCwgbG9hZGluZ0J1dHRvblRleHQsIGhhbmRsZVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5wb3B1cF9fc2F2ZS1idXR0b25cIlxuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IGJ1dHRvblRleHQ7XG4gICAgdGhpcy5fbG9hZGluZ0J1dHRvblRleHQgPSBsb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIildO1xuXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuICBzaG93TG9hZGluZygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9sb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuICBoaWRlTG9hZGluZygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xuICB9XG59XG4iLCIvL2ltcG9ydCBhdmF0YXJTcmMgZnJvbSBcIi4uL2ltYWdlcy9wcm9maWxlLmpwZ1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9mb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9jYXJkLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0gLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8gLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9zZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0IGZyb20gXCIuLi9jb21wb25lbnRzL3BvcHVwV2l0aFN1Ym1pdC5qc1wiO1xuLy8uLi4uLi4uLi4uLi4uLi5FbmQgT2YgSW1wb3J0IE1vZHVscy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuXG5jb25zdCBlbGVtZW50c1BsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcbmNvbnN0IG5hbWVDaGFuZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuY29uc3QgZGVzY3JpcHRpb25DaGFuZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2lucHV0X3R5cGVfZGVzY3JpcHRpb25cIlxuKTtcbmNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdGVtcGxhdGVcIik7XG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3Byb2ZpbGUtZWRkaXRvclwiKTtcbmNvbnN0IGNhcmRFZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfY2FyZC1lZGl0b3JcIik7XG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfY2hhbmdlLXByb2ZpbGUtcGljdHVyZVwiKTtcbmxldCB1c2VySWQgPSBcIlwiO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi5FbmQgb2Ygc2VsZWN0b3JzLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5jb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlLWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zYXZlLWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X2Vycm9yXCIsXG59O1xuLy8uLi4uLi4uLi4uLi4uLkVuZCBPZiBzZXR0aW5ncy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgcHJvZmlsZSk7XG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBjYXJkRWRpdG9yKTtcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYXZhdGFyKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5FbmQgb2YgZm9ybSBWYWxpZGF0b3IuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2luZm9cIixcbiAgdXNlckpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19zdWItaW5mb1wiLFxufSk7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi5FbmQgb2YgdXNlciBJbmZvLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbmNvbnN0IGRlbGV0ZUZvcm0gPSBuZXcgUG9wdXBXaXRoU3VibWl0KFwiLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmRcIiwgIFwieWVzXCIsXCJzYXZpbmcuLi5cIiwpO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGRhdGEsXG4gICAgdGVtcGxhdGUsXG4gICAgKG5hbWUsIGxpbmspID0+IHtcbiAgICAgIG9wZW5QcmV2aWV3Lm9wZW4obmFtZSwgbGluayk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgZGVsZXRlRm9ybS5zZXRIYW5kbGVTdWJtaXQoKCkgPT4ge1xuICAgICAgIGRlbGV0ZUZvcm0uc2hvd0xvYWRpbmcoKVxuICAgICAgICBhcGkuZGVsZXRlQ2FyZChpZCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKHJlcyk7XG4gICAgICAgICAgZGVsZXRlRm9ybS5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlcyk9PiB7Y29uc29sZS5sb2coXCJ3ZSBoYXZlIGEgcHJvYmxlbVwiLCByZXMpfSlcbiAgICAgICAgLmZpbmFsbHkoKCk9PiBkZWxldGVGb3JtLmhpZGVMb2FkaW5nKCkpO1xuICAgICAgfSk7XG4gICAgICBkZWxldGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICBkZWxldGVGb3JtLm9wZW4oKTtcbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgYXBpXG4gICAgICAgIC5hZGRMaWtlKGlkKVxuICAgICAgICAudGhlbigocmVzKT0+IGNhcmQudXBkYXRlTGlrZXMocmVzLmxpa2VzKSlcbiAgICAgICAgLmNhdGNoKChpZCkgPT4gY29uc29sZS5sb2coXCJlcnJvciBpbiBhZGRpbmcgbGlrZVwiLCBpZCkpO1xuICAgIH0sXG4gICAgKGlkKSA9PiB7XG4gICAgICBhcGlcbiAgICAgICAgLmRlbGV0ZUxpa2UoaWQpXG4gICAgICAgIC50aGVuKChyZXMpPT4gY2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpKVxuICAgICAgICAuY2F0Y2goKGlkKSA9PiBjb25zb2xlLmxvZyhcImVycm9yIGluIHJlbW92aW5nICBsaWtlXCIsaWQpKTtcbiAgICB9LFxuICAgIHVzZXJJZFxuICApO1xuXG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmRFbGVtZW50KCk7XG59XG5cbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oKGRhdGEpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUNhcmQoZGF0YSk7XG59LCBlbGVtZW50c1BsYWNlKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIHRva2VuOiBcIjNiMDU5MWY1LThkODAtNDhhZi1iZmIyLTE0OTlkNTA0NTMwNFwiLFxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbn0pO1xuLy9pbml0aWFsaXphdGlvbiBvZiBjYXJkc1xuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKHJlcykgPT4ge1xuICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhyZXMpO1xufSlcbi5jYXRjaCgocmVzKT0+IHtjb25zb2xlLmxvZyhcImVycm9yXCIsIHJlcyl9KVxuXG4vL2FkZCBuZXcgQ2FyZCBwb3BVcFxuY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGNhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3R5cGVfY2FyZC1lZGl0b3JcIixcbiAgXCJDcmVhdGVcIixcbiAgXCJDcmVhdGluZy4uLlwiLFxuICAoZGF0YSkgPT4ge1xuICAgIGNhcmRGb3JtLnNob3dMb2FkaW5nKCk7XG4gICAgYXBpXG4gICAgICAuYWRkTmV3Q2FyZChkYXRhKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQocmVzKSk7XG4gICAgICAgIGNhcmRGb3JtLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChyZXMpID0+IGNvbnNvbGUubG9nKFwidGhlcmUgaXMgZXJyb3IgaW4gYWRkaW5nIGNhcmRcIiwgcmVzICkpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGFkZENhcmRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKClcbiAgICAgICAgY2FyZEZvcm0uaGlkZUxvYWRpbmcoKTtcbiAgICAgIFxuICAgICAgfSk7XG4gIH1cbik7XG5jYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgY2FyZEZvcm0ub3BlbigpO1xufSk7XG5cbi8vIGNhcmQgcHJldmlldyBwb3B1cFxuY29uc3Qgb3BlblByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9wcmV2aWV3XCIpO1xub3BlblByZXZpZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi5lbmQgb2YgQ2FyZHMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cblxuLy9HZXQgcHJvZmlsZSBpbmZvXG5cbmFwaS5nZXRQcm9maWxlKCkudGhlbigocHJvZmlsZSkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHByb2ZpbGUubmFtZSwgYWJvdXQ6IHByb2ZpbGUuYWJvdXQgfSk7XG4gIGF2YXRhckltZy5zcmMgPSBwcm9maWxlLmF2YXRhcjtcbiAgdXNlcklkID0gcHJvZmlsZS5faWQ7XG59KVxuLmNhdGNoKChyZXMpPT4ge2NvbnNvbGUubG9nKFwiZXJyb3IgaW4gZ2V0dGluZyBwcm9maWxlIGluZm9cIiwgcmVzKX0pXG4vL3NldCBwcm9maWxlIGluZm9cbmNvbnN0IGF2YXRhckltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZS1hdmF0YXJcIik7XG5jb25zdCBvcGVuUHJvZmlsZUVkaXRvckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBwcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5wb3B1cF90eXBlX3Byb2ZpbGUtZWRkaXRvclwiLFxuICBcInNhdmVcIixcbiAgXCJzYXZpbmcuLi5cIixcbiAgKHByb2ZpbGUpID0+IHtcbiAgICBwcm9maWxlRm9ybS5zaG93TG9hZGluZygpO1xuICAgIGFwaVxuICAgICAgLnNldFByb2ZpbGUocHJvZmlsZSlcbiAgICAgIC50aGVuKChwcm9maWxlKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHByb2ZpbGUpO1xuICAgICAgICBwcm9maWxlRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgocmVzKSA9PiBjb25zb2xlLmxvZyhcImVycm9yIGluIHNldHRpbmcgcHJvZmlsZSBpbmZvXCIsIHJlcykpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHByb2ZpbGVGb3JtLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgXG4gICAgICB9KTtcbiAgfVxuKTtcbnByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5vcGVuUHJvZmlsZUVkaXRvckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZUZvcm0ub3BlbigpO1xuICBjb25zdCBkYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZUNoYW5nZXIudmFsdWUgPSBkYXRhLm5hbWU7XG4gIGRlc2NyaXB0aW9uQ2hhbmdlci52YWx1ZSA9IGRhdGEuZGVzY3JpcHRpb247XG59KTtcblxuLy8gY2hhbmdlIGF2YXRhciBwb3B1cFxuY29uc3QgY2hhbmdlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItbWlkZGxlXCIpO1xuY29uc3QgYXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5wb3B1cF90eXBlX2NoYW5nZS1wcm9maWxlLXBpY3R1cmVcIixcbiAgXCJzYXZlXCIsXG4gIFwic2F2aW5nLi4uXCIsXG5cbiAgKGF2YXRhcikgPT4ge1xuICAgIGF2YXRhckZvcm0uc2hvd0xvYWRpbmcoKTtcbiAgICBhcGlcbiAgICAgIC5jaGFuZ2VBdmF0YXIoYXZhdGFyKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBhdmF0YXJJbWcuc3JjID0gcmVzLmF2YXRhcjtcbiAgICAgICAgYXZhdGFyRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgocmVzKSA9PiBjb25zb2xlLmxvZyhcImhvdXN0b24gd2UgaGF2ZSBhIHByb2JsZW1cIiwgcmVzKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgYXZhdGFyRm9ybS5oaWRlTG9hZGluZygpO1xuICAgICAgICBhdmF0YXJGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKClcbiAgICAgIH0pO1xuICB9XG4pO1xuYXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuY2hhbmdlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGF2YXRhckZvcm0ub3BlbigpO1xufSk7XG5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uZW5kIG9mIHByb2ZpbGUuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIiBleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3Ioe3VzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3Rvcn0pe1xuICAgICAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3RvcilcbiAgICAgICAgdGhpcy5fdXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKVxuICAgICAgIFxuICAgIH1cbiAgICBnZXRVc2VySW5mbygpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnRcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRVc2VySW5mbyh7bmFtZSwgYWJvdXQ6IGFib3V0fSl7XG4gICAgICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZVxuICAgICAgICB0aGlzLl91c2VySm9iLnRleHRDb250ZW50ID0gYWJvdXRcblxuICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGJ1dHRvblRleHQsIGxvYWRpbmdCdXR0b25UZXh0KSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKVxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIFwiLnBvcHVwX19zYXZlLWJ1dHRvblwiKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uVGV4dCA9IGJ1dHRvblRleHRcbiAgICAgICAgdGhpcy5fbG9hZGluZ0J1dHRvblRleHQgPSBsb2FkaW5nQnV0dG9uVGV4dFxuICAgIH0gICBcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PntcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KClcbiAgICAgICAgfSlcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgIH1cbiAgICAgICAgc2V0SGFuZGxlU3VibWl0KGhhbmRsZVN1Ym1pdCkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ICA9IGhhbmRsZVN1Ym1pdFxuICAgICAgICB9XG4gICAgICAgIHNob3dMb2FkaW5nKCkge1xuICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9sb2FkaW5nQnV0dG9uVGV4dDtcbiAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5fbG9hZGluZ0J1dHRvblRleHQpICBcbiAgICAgICAgfVxuXG5cbiAgICAgICAgICBoaWRlTG9hZGluZygpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvblRleHQ7XG4gICAgICAgICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xuICB9XG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG4gIHJlbmRlckl0ZW1zKGRhdGEpIHtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHRoaXMuYWRkSXRlbSh0aGlzLl9yZW5kZXJlcihlbGVtZW50KSkpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbnRoaXMuX3VybCA9IG9wdGlvbnMuYmFzZVVybDtcbnRoaXMuX3Rva2VuID0gb3B0aW9ucy50b2tlbjtcbiAgICB9XG5cbiAgICBfZ2V0UmVzcG9uc2VEYXRhKHJlcyl7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gICAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgICAgICBoZWFkZXJzOiBcbiAgICAgICAgICB7YXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW59XG4gICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgICAgICAgIFxuICAgICAgfSBcbiAgICAgIGFkZE5ld0NhcmQoZGF0YSl7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IFxuICAgICAgICAgIHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbiwgJ0NvbnRlbnQtVHlwZSc6IFwiYXBwbGljYXRpb24vanNvblwifSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSAoZGF0YSlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgICAgfSBcblxuICAgICAgZGVsZXRlQ2FyZChjYXJkSWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0gYCx7XG4gICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgIGhlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbn1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgICAgfVxuICAgICAgYWRkTGlrZShjYXJkSWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH0gYCx7XG4gICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbiwnQ29udGVudC1UeXBlJzogXCJhcHBsaWNhdGlvbi9qc29uXCJ9LFxuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgICB9XG4gICAgICBkZWxldGVMaWtlKGNhcmRJZCl7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfSBgLHtcbiAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgaGVhZGVyczoge2F1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLCdDb250ZW50LVR5cGUnOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcbiAgICAgIH0gIFxuICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uRW5kIG9mIGNhcmRzIGFwaWBzLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIGdldFByb2ZpbGUoKXtcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgICBoZWFkZXJzOiBcbiAgICAgICAge2F1dGhvcml6YXRpb246IHRoaXMuX3Rva2VufVxuICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgc2V0UHJvZmlsZShkYXRhKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbiwgICdDb250ZW50LVR5cGUnOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7bmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5hYm91dH0pXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcbiAgfVxuICBjaGFuZ2VBdmF0YXIoYXZhdGFyKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXIgYCx7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB7YXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sICdDb250ZW50LVR5cGUnOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhdmF0YXIpXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gIH1cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5lbmQgb2YgZmlsZS4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgfSBcblxuXG4gIFxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICAgICAgdGhpcy5fcG9wdXBQcmV2aWV3ID0gXCIucG9wdXBfX3ByZXZpZXdcIlxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgXG4gICAgfVxuICAgIFxuXG4gICAgb3Blbih0ZXh0LCBsaW5rKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwUHJldmlldykuc3JjID0gbGluaztcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3ByZXZpZXctdGV4dFwiKS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwUHJldmlldykuYWx0ID0gdGV4dDtcbiAgICAgICAgc3VwZXIub3BlbigpXG4gICAgfVxufSJdLCJuYW1lcyI6WyJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJzZXR0aW5ncyIsImZvcm0iLCJ0aGlzIiwiaW5wdXRMaXN0IiwiZm9yRWFjaCIsImlucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja1ZhbGlkaXR5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsImJ1dHRvbiIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaXNGb3JtVmFsaWQiLCJyZXNldFZhbGlkYXRpb24iLCJfaGlkZUVycm9yIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaW5wdXRFcnJvckNsYXNzIiwiZW5hYmxlVmFsaWRhdGlvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9zaG93RXJyb3IiLCJpZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiYWRkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImV2ZXJ5IiwiZGlzYWJsZWQiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGUiLCJoYW5kbGVMaWtlIiwiZGVsZXRlTGlrZSIsInVzZXJJZCIsIl9uYW1lIiwibmFtZSIsIl9kYXRhIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfb3duZXJJZCIsIm93bmVyIiwiX2lkIiwiX3VzZXJJZCIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2VsZW1lbnRUZW1wbGF0ZSIsImNvbnRlbnQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZSIsIl9oYW5kbGVMaWtlIiwiX2RlbGV0ZUxpa2UiLCJyZW1vdmVDYXJkIiwiX2VsZW1lbnQiLCJ1cGRhdGVMaWtlcyIsIl9yZW5kZXJMaWtlcyIsIl9pc0xpa2VkIiwic29tZSIsInBlcnMiLCJsZW5ndGgiLCJjcmVhdGVDYXJkRWxlbWVudCIsImNsb25lTm9kZSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiZGlzcGxheSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJidXR0b25UZXh0IiwibG9hZGluZ0J1dHRvblRleHQiLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZm9ybSIsIl9zdWJtaXRCdXR0b24iLCJfYnV0dG9uVGV4dCIsIl9sb2FkaW5nQnV0dG9uVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0cyIsImlucHV0VmFsdWVzIiwidmFsdWUiLCJyZXNldCIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJlbGVtZW50c1BsYWNlIiwibmFtZUNoYW5nZXIiLCJkZXNjcmlwdGlvbkNoYW5nZXIiLCJ0ZW1wbGF0ZSIsInByb2ZpbGUiLCJjYXJkRWRpdG9yIiwiYXZhdGFyIiwiZm9ybVNlbGVjdG9yIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJ1c2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySm9iU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsImdldFVzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJzZXRVc2VySW5mbyIsImFib3V0IiwiZGVsZXRlRm9ybSIsInNldEhhbmRsZVN1Ym1pdCIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVDYXJkIiwiY2FyZCIsIm9wZW5QcmV2aWV3IiwiYXBpIiwiZGVsZXRlQ2FyZCIsInRoZW4iLCJyZXMiLCJjYXRjaCIsImZpbmFsbHkiLCJhZGRMaWtlIiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInJlbmRlckl0ZW1zIiwib3B0aW9ucyIsIl91cmwiLCJiYXNlVXJsIiwiX3Rva2VuIiwidG9rZW4iLCJfZ2V0UmVzcG9uc2VEYXRhIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJhZGROZXdDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJnZXRQcm9maWxlIiwic2V0UHJvZmlsZSIsImNoYW5nZUF2YXRhciIsImFkZENhcmRCdXR0b24iLCJjYXJkRm9ybSIsIl9wb3B1cFByZXZpZXciLCJ0ZXh0Iiwic3JjIiwiYWx0IiwiYXZhdGFySW1nIiwiZ2V0RWxlbWVudEJ5SWQiLCJvcGVuUHJvZmlsZUVkaXRvckJ1dHRvbiIsInByb2ZpbGVGb3JtIiwiY2hhbmdlQXZhdGFyQnV0dG9uIiwiYXZhdGFyRm9ybSJdLCJzb3VyY2VSb290IjoiIn0=